<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>/var/www/portal/public/js/jquery.shorten.js - Chell PHP Portal</title>
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-skin-sam">
    <div class="navbar navbar-fixed-top navbar-inverse">
        <div class="navbar-inner">
            <div class="container">
                <div class="row">
                    <a href="../">
                        <img alt="Chell PHP Portal" src="../../../img/icons/favicons/android-chrome-48x48.png" title="Chell PHP Portal">
                        <h1 class="brand">Chell PHP Portal</h1>
                    </a>
                    <ul class="nav">
                        <li class="divider-vertical"></li>
                        <li>
                            <p class="navbar-text">
                                API Docs for Version: <b>1.0</b>
                            </p>
                        </li>
                    </ul>
                    <form class="navbar-form pull-right">
                        <input style="margin-top: 0;" type="text" class="form-control" placeholder="Search for classes/modules..." data-obj='["classes/Devices", "classes/Gallery", "classes/Index", "classes/Nowplaying", "classes/PHPSysInfo", "classes/Transmission", "classes/Window", "modules/Dashboard", "modules/DashboardBlocks", "modules/General", "modules/Settings"]'>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="span3">
                <div>
                    <h3>APIs</h3>
                    <div id="sidebar">
                        <ul id="main-nav" class="nav nav-tabs" style="margin-bottom:0;">
                            <li class="active"><a href="#classes" data-toggle="tab">Classes</a></li>
                            <li><a href="#modules" data-toggle="tab">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" placeholder="Type to filter APIs">
                        </div>
                
                        <div class="tab-content" style="border: 1px solid #DDD; border-top:0;">
                            <div class="tab-pane active" id="classes">
                                <ul id="api-classes" class="nav nav-list">
                                        <li><a href="../classes/Devices.html">Devices</a></li>
                                        <li><a href="../classes/Gallery.html">Gallery</a></li>
                                        <li><a href="../classes/Index.html">Index</a></li>
                                        <li><a href="../classes/Nowplaying.html">Nowplaying</a></li>
                                        <li><a href="../classes/PHPSysInfo.html">PHPSysInfo</a></li>
                                        <li><a href="../classes/Transmission.html">Transmission</a></li>
                                        <li><a href="../classes/Window.html">Window</a></li>
                                </ul>
                            </div>
                
                            <div class="tab-pane" id="modules">
                                <ul id="api-modules" class="nav nav-list">
                                        <li><a href="../modules/Dashboard.html">Dashboard</a></li>
                                        <li><a href="../modules/DashboardBlocks.html">DashboardBlocks</a></li>
                                        <li><a href="../modules/General.html">General</a></li>
                                        <li><a href="../modules/Settings.html">Settings</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span9">
                    <form id="options-form" class="form-inline pull-right">
                        Show:
                        <label for="api-show-inherited" class="checkbox">
                            <input type="checkbox" id="api-show-inherited" checked>
                            Inherited
                        </label>
                
                        <label for="api-show-protected" class="checkbox">
                            <input type="checkbox" id="api-show-protected">
                            Protected
                        </label>
                
                        <label for="api-show-private" class="checkbox">
                            <input type="checkbox" id="api-show-private">
                            Private
                        </label>
                        <label for="api-show-deprecated" class="checkbox">
                            <input type="checkbox" id="api-show-deprecated">
                            Deprecated
                        </label>
                
                    </form>
                
                <div class="apidocs">
                    <div id="docs-main">
                        <div class="content">
                            <div class="page-header">
                                <h1>/var/www/portal/public/js/jquery.shorten.js <small>File</small></h1>
                            </div>
                            
                            <div class="file">
                                <pre class="prettyprint linenums">
                            /*
                             * Shorten, a jQuery plugin to automatically shorten text to fit in a block or a pre-set width and configure how the text ends.
                             * Copyright (C) 2009-2013  Marc Diethelm
                             * License: (GPL 3, http://www.gnu.org/licenses/gpl-3.0.txt) see license.txt
                             */
                            
                            
                            
                            (function ($) {
                            
                            	//var $c = console;
                            	var
                            		_native = false,
                            		is_canvasTextSupported,
                            		measureContextInit, // canvas context or table cell
                            		measureText, // function that measures text width
                            		info_identifier = &quot;shorten-info&quot;,
                            		options_identifier = &quot;shorten-options&quot;;
                            
                            	$.fn.shorten = function() {
                            
                            		var userOptions = {},
                            			args = arguments, // for better minification
                            			func = args.callee, // dito; and shorter than $.fn.shorten
                            			options;
                            
                            		if ( args.length ) {
                            
                            			if ( args[0].constructor == Object ) {
                            				userOptions = args[0];
                            			} else if ( args[0] == &quot;options&quot; ) {
                            				return $(this).eq(0).data(options_identifier);
                            			} else {
                            				userOptions = {
                            					width: parseInt(args[0], 10),
                            					tail: args[1]
                            				}
                            			}
                            		}
                            
                            		this.css(&quot;visibility&quot;, &quot;hidden&quot;); // Hide the element(s) while manipulating them
                            
                            		// apply options vs. defaults
                            		options = $.extend({}, func.defaults, userOptions);
                            
                            
                            		/**
                            		 * HERE WE GO!
                            		 **/
                            		return this.each(function () {
                            
                            			var
                            				$this = $(this),
                            				text = $this.text(),
                            				numChars = text.length,
                            				measureContext = measureContextInit.call( this ),
                            				origLength = measureText.call( this, text, measureContext ),
                            				targetWidth,
                            				tailText = $(&quot;&lt;span/&gt;&quot;).html(options.tail).text(), // convert html to text
                            				info = {
                            					shortened: false,
                            					textOverflow: false
                            				}
                            
                            			if ($this.css(&quot;float&quot;) != &quot;none&quot;) {
                            				targetWidth = options.width || $this.width(); // this let&#x27;s correctly shorten text in floats, but fucks up the rest
                            			} else {
                            				targetWidth = options.width || $this.parent().width();
                            			}
                            
                            			if (targetWidth &lt; 0) { // jQuery versions &lt; 1.4.4 return negative values for .width() if display:none is used.
                            				//$c.log(&quot;nonsense target width &quot;, targetWidth);
                            				return true;
                            			}
                            
                            			$this.data(options_identifier, options);
                            
                            			// for consistency with the text-overflow method (which requires these properties), but not actually neccessary.
                            			//this.style.display = &quot;block&quot;;
                            			//this.style.overflow = &quot;hidden&quot;; // firefox: a floated li will cause the ul to have a &quot;bottom padding&quot; if this is set.
                            			this.style.whiteSpace = &quot;nowrap&quot;;
                            
                            			if ( origLength &lt; targetWidth ) {
                            				//$c.log(&quot;nothing to do&quot;);
                            				$this.text( text );
                            				this.style.visibility = &quot;visible&quot;;
                            
                            				// if this is a re-run on this element (and tooltip is enabled), remove obsolete tooltip
                            				if ($this.data(info_identifier) &amp;&amp; options.tooltip) {
                            					$this.removeAttr(&quot;title&quot;);
                            				}
                            
                            				$this.data(info_identifier, info);
                            
                            				return true;
                            			}
                            
                            			if ( options.tooltip ) {
                            				this.setAttribute(&quot;title&quot;, text);
                            			}
                            
                            			/**
                            			 * If browser implements text-overflow:ellipsis in CSS and tail is &amp;hellip;/Unicode 8230/(…), use it!
                            			 * In this case we&#x27;re doing the measurement above to determine if we need the tooltip.
                            			 **/
                            			if ( func._native &amp;&amp; !userOptions.width ) {
                            				//$c.log(&quot;css ellipsis&quot;);
                            				var rendered_tail = $(&quot;&lt;span&gt;&quot;+options.tail+&quot;&lt;/span&gt;&quot;).text(); // render tail to find out if it&#x27;s the ellipsis character.
                            
                            				if ( rendered_tail.length == 1 &amp;&amp; rendered_tail.charCodeAt(0) == 8230 ) {
                            
                            					$this.text( text );
                            
                            					// the following three properties are needed for text-overflow to work (tested in Chrome).
                            					// for consistency now I need to set this everywhere... which probably interferes with users&#x27; layout...
                            					//this.style.whiteSpace = &quot;nowrap&quot;;
                            					this.style.overflow = &quot;hidden&quot;;
                            					//this.style.display = &quot;block&quot;;
                            
                            					this.style[func._native] = &quot;ellipsis&quot;;
                            					this.style.visibility = &quot;visible&quot;;
                            
                            					info.shortened = true;
                            					info.textOverflow = &quot;ellipsis&quot;;
                            					$this.data(info_identifier, info);
                            
                            					return true;
                            				}
                            			}
                            
                            			var tailWidth = measureText.call( this, tailText, measureContext ); // convert html to text and measure it
                            			targetWidth = targetWidth - tailWidth;
                            
                            				//$c.log(text +&quot; + &quot;+ tailText);
                            
                            			/**
                            			 * Before we start removing characters one by one, let&#x27;s try to be more intelligent about this:
                            			 * If the original string is longer than targetWidth by at least 15% (for safety), then shorten it
                            			 * to targetWidth + 15% (and re-measure for safety). If the resulting text still is too long (as expected),
                            			 * use that for further shortening. Else use the original text. This saves a lot of time for text that is
                            			 * much longer than the desired width.
                            			 */
                            			var safeGuess = targetWidth * 1.15; // add 15% to targetWidth for safety before making the cut.
                            
                            			if ( origLength - safeGuess &gt; 0 ) { // if it&#x27;s safe to cut, do it.
                            
                            				var cut_ratio = safeGuess / origLength,
                            					num_guessText_chars = Math.ceil( numChars * cut_ratio ),
                            					// looking good: shorten and measure
                            					guessText = text.substring(0, num_guessText_chars),
                            					guessTextLength = measureText.call( this, guessText, measureContext );
                            
                            					//$c.info(&quot;safe guess: remove &quot; + (numChars - num_guessText_chars) +&quot; chars&quot;);
                            
                            				if ( guessTextLength &gt; targetWidth ) { // make sure it&#x27;s not too short!
                            					text = guessText;
                            					numChars = text.length;
                            				}
                            			}
                            
                            			// Remove characters one by one until text width &lt;= targetWidth
                            				//var count = 0;
                            			do {
                            				numChars--;
                            				text = text.substring(0, numChars);
                            					//count++;
                            			} while ( measureText.call( this, text, measureContext ) &gt;= targetWidth );
                            
                            			$this.html( $.trim( $(&quot;&lt;span/&gt;&quot;).text(text).html() ) + options.tail );
                            			this.style.visibility = &quot;visible&quot;;
                            				//$c.info(count + &quot; normal truncating cycles...&quot;)
                            				//$c.log(&quot;----------------------------------------------------------------------&quot;);
                            
                            			info.shortened = true;
                            			$this.data(info_identifier, info);
                            
                            			return true;
                            		});
                            
                            		return true;
                            	};
                            
                            
                            
                            	var css = document.documentElement.style;
                            
                            	if ( &quot;textOverflow&quot; in css ) {
                            		_native = &quot;textOverflow&quot;;
                            	} else if ( &quot;OTextOverflow&quot; in css ) {
                            		_native = &quot;OTextOverflow&quot;;
                            	}
                            
                            		// test for canvas support
                            
                            	if ( typeof Modernizr != &#x27;undefined&#x27; &amp;&amp; Modernizr.canvastext ) { // if Modernizr has tested for this already use that.
                            		is_canvasTextSupported = Modernizr.canvastext;
                            	} else {
                            		var canvas = document.createElement(&quot;canvas&quot;);
                            		is_canvasTextSupported = !!(canvas.getContext &amp;&amp; canvas.getContext(&quot;2d&quot;) &amp;&amp; (typeof canvas.getContext(&quot;2d&quot;).fillText === &#x27;function&#x27;));
                            	}
                            	
                            	$.fn.shorten._is_canvasTextSupported = is_canvasTextSupported;
                            	$.fn.shorten._native = _native;
                            
                            	// decide on a method for measuring text width
                            	if ( is_canvasTextSupported ) {
                            		//$c.log(&quot;canvas&quot;);
                            		measureContextInit = measureText_initCanvas;
                            		measureText = measureText_canvas;
                            	} else {
                            		//$c.log(&quot;table&quot;)
                            		measureContextInit = measureText_initTable;
                            		measureText = measureText_table;
                            	}
                            
                            
                            
                            	function measureText_initCanvas()
                            	{
                            		var $this = $(this);
                            		var canvas = document.createElement(&quot;canvas&quot;);
                            			//scanvas.setAttribute(&quot;width&quot;, 500); canvas.setAttribute(&quot;height&quot;, 40);
                            		ctx = canvas.getContext(&quot;2d&quot;);
                            		$this.html( canvas );
                            
                            		/* the rounding is experimental. it fixes a problem with a font size specified as 0.7em which resulted in a computed size of 11.2px.
                            		  without rounding the measured font was too small. even with rounding the result differs slightly from the table method&#x27;s results. */
                            		// Get the current text style. This string uses the same syntax as the CSS font specifier. The order matters!
                            		ctx.font = $this.css(&quot;font-style&quot;) +&quot; &quot;+ $this.css(&quot;font-variant&quot;) +&quot; &quot;+ $this.css(&quot;font-weight&quot;) +&quot; &quot;+ Math.ceil(parseFloat($this.css(&quot;font-size&quot;))) +&quot;px &quot;+ $this.css(&quot;font-family&quot;);
                            
                            		return ctx;
                            	}
                            
                            	// measurement using canvas
                            	function measureText_canvas( text, ctx )
                            	{
                            			//ctx.fillStyle = &quot;red&quot;; ctx.fillRect (0, 0, 500, 40);
                            			//ctx.fillStyle = &quot;black&quot;; ctx.fillText(text, 0, 12);
                            
                            		return ctx.measureText(text).width; // crucial, fast but called too often
                            	};
                            
                            	function measureText_initTable()
                            	{
                            		var css = &quot;padding:0; margin:0; border:none; font:inherit;&quot;;
                            		var $table = $(&#x27;&lt;table style=&quot;&#x27;+ css +&#x27;width:auto;zoom:1;position:absolute;&quot;&gt;&lt;tr style=&quot;&#x27;+ css +&#x27;&quot;&gt;&lt;td style=&quot;&#x27;+ css +&#x27;white-space:nowrap;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#x27;);
                            		$td = $(&quot;td&quot;, $table);
                            
                            		$(this).html( $table );
                            
                            		return $td;
                            	};
                            
                            	// measurement using table
                            	function measureText_table( text, $td )
                            	{
                            		$td.text( text );
                            
                            		return $td.width(); // crucial but expensive
                            	};
                            
                            
                            	$.fn.shorten.defaults = {
                            		tail: &quot;&amp;hellip;&quot;,
                            		tooltip: true
                            	};
                            
                            })(jQuery);
                            
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
    <script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
    <script src="../assets/vendor/prettify/prettify-min.js"></script>
    <script src="../assets/js/yuidoc-bootstrap.js"></script>
    <script>prettyPrint();</script>
</body>
</html>